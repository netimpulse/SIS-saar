{% comment %}
Ein einzelner Leistungs-Block:
• Bild links / rechts
• Überschrift + Text (Farben, Größen, Gewicht anpassbar)
• frei wählbare Anchor-ID für Sprungmarken/Suche
{% endcomment %}

{%- assign anchor_id = section.settings.anchor
      | default: section.settings.heading | handleize -%}

<article id="{{ anchor_id }}"
         class="service-item {% if section.settings.image_position == 'right' %}service-item--img-right{% endif %}">

  <!-- Bild -->
  {% if section.settings.image != blank %}
    <div class="service-item__image">
      {{ section.settings.image
         | image_url: width: 1200
         | image_tag: loading: 'lazy', alt: section.settings.heading }}
    </div>
  {% endif %}

  <!-- Text -->
  <div class="service-item__content">
    <h2 class="service-item__heading"
        style="
          color: {{ section.settings.heading_color }};
          font-size: {{ section.settings.heading_size }}px;
          {% if section.settings.heading_weight == 'bold' %}font-weight:700;{% endif %}
        ">
      {{ section.settings.heading }}
    </h2>

    <div class="service-item__text"
         style="
           color: {{ section.settings.body_color }};
           font-size: {{ section.settings.body_size }}px;
         ">
      {{ section.settings.body }}
    </div>
  </div>
</article>

{% schema %}
{
  "name": "Service-Block",
  "tag": "section",
  "class": "service-item-wrapper",
  "settings": [
    { "id": "image",          "type": "image_picker", "label": "Bild" },

    { "id": "image_position", "type": "select", "label": "Bildposition",
      "options": [
        { "value": "left",  "label": "Links" },
        { "value": "right", "label": "Rechts" }
      ], "default": "left" },

    { "type": "header",       "content": "Text" },

    { "id": "heading",        "type": "text",      "label": "Überschrift",    "default": "Deine Leistung" },
    { "id": "heading_color",  "type": "color",     "label": "Farbe Überschrift", "default": "#1a1a1a" },
    { "id": "heading_size",   "type": "range",     "label": "Größe Überschrift (px)",
      "min": 18, "max": 60, "step": 1, "default": 32 },
    { "id": "heading_weight", "type": "select",    "label": "Schriftgewicht",
      "options":[{"value":"normal","label":"Normal"},{"value":"bold","label":"Fett"}], "default":"bold" },

    { "id": "body",           "type": "richtext",  "label": "Beschreibung" },
    { "id": "body_color",     "type": "color",     "label": "Farbe Text", "default": "#666666" },
    { "id": "body_size",      "type": "range",     "label": "Größe Text (px)",
      "min": 12, "max": 30, "step": 1, "default": 18 },

    { "type": "header",       "content": "Anchor" },
    { "id": "anchor",         "type": "text",      "label": "Anchor-ID (optional)",
      "info": "Leer lassen, um sie automatisch aus der Überschrift zu bilden." }
  ]
}
{% endschema %}
