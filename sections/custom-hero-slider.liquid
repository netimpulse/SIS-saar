{% comment %}
  sections/custom-hero-slider.liquid
{% endcomment %}

{{ 'custom-hero-slider.css' | asset_url | stylesheet_tag }}
<link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />

<div id="CustomHeroSlider-{{ section.id }}" class="custom-hero-slider-wrapper">
  <div class="swiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        {% render 'hero-slider-block', block: block, section: section %}
      {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</div>

<script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  // Wähle den Slider spezifisch für diese Section aus
  const sliderElement = document.querySelector('#CustomHeroSlider-{{ section.id }} .swiper');
  
  // Stelle sicher, dass das Element existiert, bevor der Slider initialisiert wird
  if (sliderElement) {
    const swiper = new Swiper(sliderElement, {
      // Standardparameter
      effect: 'fade',
      fadeEffect: {
        crossFade: true
      },
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },

      // Pagination
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },

      // Navigation arrows
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  }
});
</script>


{% schema %}
{
  "name": "Custom Hero Slider",
  "tag": "section",
  "class": "custom-hero-slider-section",
  "max_blocks": 5,
  "settings": [
    {
      "type": "header",
      "content": "Allgemeine Hinweise"
    },
    {
      "type": "paragraph",
      "content": "Füge Blöcke für jeden Slide hinzu, den du anzeigen möchtest. Du kannst jeden Slide individuell gestalten."
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "background_image",
          "label": "Hintergrundbild"
        },
        {
          "type": "header",
          "content": "Logo (Optional)"
        },
        {
          "type": "image_picker",
          "id": "logo_image",
          "label": "Logo-Bild"
        },
        {
          "type": "range",
          "id": "logo_width",
          "min": 50,
          "max": 300,
          "step": 10,
          "unit": "px",
          "label": "Logo-Breite",
          "default": 150
        },
        {
          "type": "header",
          "content": "Textinhalte"
        },
        {
          "type": "text",
          "id": "headline",
          "label": "Überschrift",
          "default": "Deine Überschrift"
        },
        {
          "type": "font_picker",
          "id": "headline_font",
          "label": "Schriftart der Überschrift",
          "default": "sans-serif"
        },
        {
          "type": "color",
          "id": "headline_color",
          "label": "Farbe der Überschrift",
          "default": "#FFFFFF"
        },
        {
          "type": "range",
          "id": "headline_size",
          "min": 24,
          "max": 80,
          "step": 1,
          "unit": "px",
          "label": "Schriftgröße der Überschrift",
          "default": 48
        },
        {
          "type": "richtext",
          "id": "subtext",
          "label": "Untertext",
          "default": "<p>Beschreibe hier deinen Service oder dein Produkt.</p>"
        },
        {
          "type": "font_picker",
          "id": "subtext_font",
          "label": "Schriftart des Untertexts",
          "default": "sans-serif"
        },
        {
          "type": "color",
          "id": "subtext_color",
          "label": "Farbe des Untertexts",
          "default": "#FFFFFF"
        },
        {
          "type": "range",
          "id": "subtext_size",
          "min": 12,
          "max": 30,
          "step": 1,
          "unit": "px",
          "label": "Schriftgröße des Untertexts",
          "default": 16
        },
        {
          "type": "header",
          "content": "Button (Optional)"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button-Text",
          "default": "Mehr"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button-Link"
        },
        {
          "type": "color",
          "id": "button_bg",
          "label": "Button Hintergrundfarbe",
          "default": "#FFFFFF"
        },
        {
          "type": "color",
          "id": "button_text_color",
          "label": "Button Textfarbe",
          "default": "#000000"
        },
        {
          "type": "color",
          "id": "button_bg_hover",
          "label": "Button Hintergrundfarbe (Hover)",
          "default": "#DDDDDD"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Hero Slider"
    }
  ]
}
{% endschema %}
